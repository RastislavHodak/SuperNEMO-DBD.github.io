<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Falaise: Installing Falaise from Source</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Falaise
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
   <div id="projectbrief">SuperNEMO Software Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Installing Falaise from Source </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#flinstall_intro">Introduction </a></li>
<li class="level1"><a href="#flinstallguide_preparation">Preparing Your System for Installation </a></li>
<li class="level1"><a href="#flinstallguide_cadfaelbrew">Installing Falaise Using the `CadfaelBrew` Package Manager </a><ul><li class="level2"><a href="#flinstallguide_getting">Setting up a Working Copy of Falaise </a></li>
<li class="level2"><a href="#flinstallguide_installation_checkout">Checking out Falaise </a></li>
<li class="level2"><a href="#flinstallguide_buildinstall">Configuring, Building and Installing Falaise </a></li>
<li class="level2"><a href="#flinstallguide_using">Using an Install of Falaise </a></li>
<li class="level2"><a href="#flinstallguide_trouble">Troubleshooting </a></li>
</ul>
</li>
<li class="level1"><a href="#flinstallguide_developing">Developing Falaise </a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="flinstall_intro"></a>
Introduction </h1>
<p>This walkthrough is intended to get you up and running with Falaise as fast as possible for both use and development of its programs and libraries. We welcome constructive comments, criticisms and suggestions for improvement of this guide, and these should be directed to the SuperNEMO Software Working Group.</p>
<h1><a class="anchor" id="flinstallguide_preparation"></a>
Preparing Your System for Installation </h1>
<p>To install the Falaise stack, you first need the following minimal environment:</p>
<ul>
<li>UNIX Operating System<ul>
<li>Linux x86_64<ul>
<li>Ubuntu 14/15/16, SUSE 11/12, RedHat/CentOS/Scientific 6/7 are tested and supported</li>
<li>Other distributions should work provided they supply the software requirements listed below</li>
</ul>
</li>
<li>Mac OS X 10.9/10/11 (Mavericks/Yosemite/El Capitan)<ul>
<li>Earlier versions should work, but are not tested</li>
</ul>
</li>
</ul>
</li>
<li>Several GB of free disk space:<ul>
<li>At least 200MB for a source code check out</li>
<li>At least 6.5GB for a first from scratch build</li>
</ul>
</li>
<li>Familiarity with the UNIX command line</li>
<li>Required Software<ul>
<li>Subversion 1.6 or above</li>
<li>Git 1.9 or above</li>
<li>C/C++ compiler supporting at least the C++03 standard<ul>
<li>GCC 4.5 or above, and Clang 3.1 or above are recommended</li>
<li>On OS X systems, you should install Xcode from the App Store, and ensure the Command Line Tools are installed</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>We recommend that the Required Software are installed via the relevant package manager on Linux (e.g. yum, apt). On OS X, Xcode will supply everything needed.</p>
<h1><a class="anchor" id="flinstallguide_cadfaelbrew"></a>
Installing Falaise Using the `CadfaelBrew` Package Manager </h1>
<p>If you simply wish to use Falaise, we recommend installing it using the <a href="https://github.com/SuperNEMO-DBD/cadfaelbrew"><code>Cadfaelbrew</code></a> package manager. This provides the complete stack of packages required by Falaise and may be installed using the following commands:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd $HOME</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ git clone https://github.com/SuperNEMO-DBD/cadfaelbrew.git cadfaelbrew</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;$ export PATH=&quot;$HOME/cadfaelbrew/bin:$PATH&quot;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$ brew cadfael-bootstrap</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;$ brew install falaise</div></div><!-- fragment --><p>For further information, including troubleshooting the installation, please refer to the <a href="https://github.com/SuperNEMO-DBD/cadfaelbrew"><code>Cadfaelbrew</code> project page</a>.</p>
<h1>Installing Falaise from Source </h1>
<p>In addition to the core system listed above, Falaise requires several third party libraries to implement its functionality, specifically</p>
<ul>
<li>C++11 Compliant Compiler (GCC &gt;=4.9, Clang &gt;= 3.4, Intel &gt;= 15)</li>
<li><a href="http://www.cmake.org">CMake</a> 3.3 or higher</li>
<li>Make, Ninja or Xcode buildtools</li>
<li>[Bayeux C++ Libraries]() 2.1.0 and higher.</li>
<li><a href="http://www.boost.org">Boost C++ Libraries</a> 1.55.0 and higher</li>
<li><a href="https://github.com/tegesoft/camp">CAMP C++ Reflection Library</a> 0.7.1 and higher</li>
<li><a href="http://proj-clhep.web.cern.ch/proj-clhep/">CLHEP C++ HEP Library</a> 2.1.3.1 and higher</li>
<li><a href="http://www.gnu.org/software/gsl/">GNU Scientific Library</a> 1.15 and higher</li>
<li><a href="http://root.cern.ch">ROOT C++ HEP Toolkit</a> 5.34.30 and higher (6 series currently unsupported)</li>
<li><a href="http://geant4.cern.ch">Geant4 C++ Toolkit for Detector Simulations</a> 9.6.4 and higher</li>
</ul>
<p>You can reuse existing installations of these libraries to build Falaise provided they meet the listed version requirements. Alternatively, all are available through <code>CadfaelBrew</code> and can be installed following the <a class="el" href="flinstallguide.html#flinstallguide_cadfaelbrew">instructions given above</a>.</p>
<h2><a class="anchor" id="flinstallguide_getting"></a>
Setting up a Working Copy of Falaise </h2>
<p>Falaise code is managed using the Subversion repository hosted by <a href="https://nemo.lpc-caen.in2p3.fr">LPC Caen</a>. Whilst you need a full account to commit to the repository, we will be using the provided read-only access. To work with the software, we recommend using the following workspace directories:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;SuperNEMO/</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;|-- lpc-caen.svn</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;|-- builds</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;|-- installs</div></div><!-- fragment --><p>where the <code>SuperNEMO</code> directory can be located where you wish, though it must be on a filesystem with the required free space. You do not have to follow this layout, but we recommend it as a fast and convenient way to organise things.</p>
<p>If you already have a workspace setup, then you can skip to the <a class="el" href="flinstallguide.html#flinstallguide_installation_checkout">following section</a>. Otherwise to create it, open a terminal, and choose a directory for your SuperNEMO workspace. For clarity in this guide, because absolute paths are needed in certain cases, we will use the dummy directory <code>/Users/snemo</code>, but you should choose your own location. The first step is to create the directory hierarchy:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd /Users/snemo</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ mkdir -p SuperNEMO/{lpc-caen.svn,builds,installs}</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;$ cd SuperNEMO</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$ ls</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;builds  installs  lpc-caen.svn</div></div><!-- fragment --><p>With the directories in place, we can checkout the code. This is done via the <code>svn</code> command line client, and we be using a "sparse checkout" pattern. Whilst this requires a few more steps upfront, it provides a very stable and well organised working copy.</p>
<p>Note that in the following, we demonstrate how create a checkout by the fastest and easiest means possible. This means that you end up with:</p>
<ul>
<li>A read-only repository<ul>
<li>You can update, view logs and create diffs and patches</li>
<li>You cannot commit changes</li>
</ul>
</li>
</ul>
<p>If you already have a developer's account at LPC Caen, then the following instructions will also work, simply remove the <code>--username</code> and <code>--no-auth-cache</code> arguments from the svn commands.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ pwd</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;/path/to/your/chosen/workspace/SuperNEMO</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;$ svn co https://nemo.lpc-caen.in2p3.fr/svn --username=visitor --no-auth-cache \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;--depth empty lpc-caen.svn</div></div><!-- fragment --><p>At this point, you may see a warning about certificates:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Error validating server certificate for &#39;https://nemo.lpc-caen.in2p3.fr:443&#39;:</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; - The certificate is not issued by a trusted authority. Use the</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;   fingerprint to validate the certificate manually!</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; - The certificate hostname does not match.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; - The certificate has expired.</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;Certificate information:</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; - Hostname: caedev.in2p3.fr</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; - Valid: from Thu, 15 May 2008 11:52:02 GMT until Fri, 15 May 2009 11:52:02 GMT</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; - Issuer: LPC Caen, CNRS, Caen, France, Fr</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; - Fingerprint: ae:89:9e:38:e3:80:a7:a3:b2:1e:df:5e:eb:33:2d:ba:83:be:b7:11</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;(R)eject, accept (t)emporarily or accept (p)ermanently? p</div></div><!-- fragment --><p>Simply press <code>t</code> or <code>p</code> to accept the certificate. The process will then continue by asking for the password for <code>visitor</code>, for which you should enter <code>anonymous</code> (If you have accessed the LPC repository before, you may not see either the certificate check or password prompt).</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;Password for &#39;visitor&#39;:</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Checked out revision 13809.</div></div><!-- fragment --><p>The revision number you see will vary depending on the current state of development. If you now list the contents of the <code>lpc-caen.svn</code> directory it will be empty apart from a <code>.svn</code> directory. We now checkout the parts we need, specifically the <code>Falaise</code> project.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ pwd</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;/Users/snemo/SuperNEMO</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;$ cd lpc-caen.svn</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$ svn up --set-depth immediates Falaise</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;A    Falaise</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;A    Falaise/trunk</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;A    Falaise/branches</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;A    Falaise/tags</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;Updated to revision 13851.</div></div><!-- fragment --><p>As above, the revision number will depend on the current state of development. Each LPC project is organised using the standard Subversion directory layout of <code>trunk</code> for the mainline of development, <code>branches</code> for feature implementation and bug fixes, and <code>tags</code> for releases.</p>
<p>An <code>ls</code> of the above directories will show that, again, they are empty. However, if you use Subversion's <code>ls</code> command, e.g.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ svn ls Falaise/trunk</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;CMakeLists.txt</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;...</div></div><!-- fragment --><p>you will get a listing of the contents in the upstream repository. This is what we mean by a "sparse checkout". Such a working copy allows you to query the repository for what is available, and then choose the parts you want to checkout. For example, you can get a list of the current tags of Falaise by doing</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ svn ls Falaise/tags</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Falaise-1.0.0</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Falaise-2.0.0</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Falaise-2.1.0</div></div><!-- fragment --><p>Tags are always named using the standard <code>MAJOR.MINOR.PATCH</code> convention with an optional additional <code>-STATUSN</code> flag to indicate development lines.</p>
<h2><a class="anchor" id="flinstallguide_installation_checkout"></a>
Checking out Falaise </h2>
<p>With the workspace in place, we can checkout the required development line of Falaise. The version of Falaise to which this documentation refers is 2.1.0, and to check out the tag for this version we do</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ svn ls Falaise/tags</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;...</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;$ svn up --set-depth infinity Falaise/tags/Falaise-2.1.0</div></div><!-- fragment --><p>The basic source code working copy is now in place. For more details on using Subversion, we recommend the <a href="http://svnbook.red-bean.com/">Subversion Red Bean Guide</a>.</p>
<h2><a class="anchor" id="flinstallguide_buildinstall"></a>
Configuring, Building and Installing Falaise </h2>
<p>Falaise uses the <a href="http://www.cmake.org">CMake</a> tool for driving the configure, build and install of its core library and applications. To start, go into your SuperNEMO workspace and create a build directory:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd /Users/snemo/SuperNEMO</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ ls</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;builds  installs  lpc-caen.svn</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$ cd builds</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;$ mkdir falaise-2.1.0</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;$ cd falaise-2.1.0</div></div><!-- fragment --><p>the naming of the directory is arbitrary, but it's useful to give them a name related to the build task.</p>
<p>We now run cmake as follows to configure the build to install under our workspace area,</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cmake -DCMAKE_INSTALL_PREFIX=/Users/snemo/SuperNEMO/installs/falaise-2.1.0 \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; ../../lpc-caen.svn/Falaise/tags/Falaise-2.1.0</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;-- The C compiler identification is GNU 4.9.3</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;-- The CXX compiler identification is GNU 4.9.3</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;-- Check for working C compiler: /usr/bin/cc</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;-- Check for working C compiler: /usr/bin/cc -- works</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;-- Detecting C compiler ABI info</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;-- Detecting C compiler ABI info - done</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;-- Check for working CXX compiler: /usr/bin/c++</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;-- Check for working CXX compiler: /usr/bin/c++ -- works</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;-- Detecting CXX compiler ABI info</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;-- Detecting CXX compiler ABI info - done</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;-- Found Doxygen: /usr/bin/doxygen (found suitable version &quot;1.8.1.2&quot;, minimum required is &quot;1.8&quot;)</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;Boost  found.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;Found Boost components:</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;   thread</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;-- Found Doxygen: /usr/bin/doxygen (found suitable version &quot;1.8.1.2&quot;, minimum required is &quot;1.8.0&quot;)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;Boost  found.</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;Found Boost components:</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;   program_options;filesystem;system</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;Boost  found.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;Found Boost components:</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;   program_options</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;-- Configuring done</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;-- Generating done</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;-- Build files have been written to: /Users/snemo/SuperNEMO/builds/falaise-2.1.0</div></div><!-- fragment --><p>The <code>CMAKE_INSTALL_PREFIX</code> variable tells cmake where to install the products of the build. The exact output in this step will depend on the OS you are running on, the compiler detected and the exact CMake version (later versions are more verbose). The important thing to check is that you see the last three lines</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;-- Configuring done</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;-- Generating done</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;-- Build files have been written to: /Users/snemo/SuperNEMO/builds/falaise-2.1.0</div></div><!-- fragment --><p>which indicate a successful configuration. If you see errors at this point, they are most likely due to a failure to locate a required external package. Generally these can be resolved by add the location of the missing package to the <a href="https://cmake.org/cmake/help/v3.3/variable/CMAKE_PREFIX_PATH.html"><code>CMAKE_PREFIX_PATH</code> variable</a>, either on the command line or by setting this in the environment.</p>
<p>Once configuration has completed without error, a makefile for building Falaise will have been generated. We can now run <code>make</code> to build everything:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ make -j4</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;Scanning dependencies of target falaise_io</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Scanning dependencies of target Bayeux_mctools_geant4</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;[  0%] Building CXX object source/flreconstruct/CommissioningIO/CMakeFiles/falaise_io.dir/DriftModel.cc.o</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;...</div></div><!-- fragment --><p>You should select the integer passed to <code>-j</code> based on the number of cores your system has, e.g. 4 for a quad core system. With parallel builds the exact output will vary, but a successful build will generally be indicated by the last lines being:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[100%] Built target flreconstruct</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;[100%] Built target flsimulate</div></div><!-- fragment --><p>Development of Falaise enforces removal of compiler warnings as far as possible, so you should not see any when building release versions on the tested platforms listed earlier. If you do see any warnings or errors, these should be reported to the Software Working Group. Warnings should not affect success of the build, but if you are in any doubt as to this, simply run make again without the <code>-j</code> argument and you should see output similar to:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ make</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;[ 89%] Built target Bayeux</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;[ 94%] Built target Bayeux_mctools_geant4</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;[ 94%] Built target bayeux_docs</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;[ 97%] Built target Falaise</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;[ 97%] Built target flsimulate</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;[ 98%] Built target flreconstruct</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;[ 99%] Built target falaise_io</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;[100%] Built target testCommissioningIO</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;[100%] Built target falaise_docs</div></div><!-- fragment --><p>After a successful build, you can install Falaise to the location you passed to <code>CMAKE_INSTALL_PREFIX</code> with</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ make install</div></div><!-- fragment --><p>This will install everything required into a POSIX style hierarchy under the install prefix:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;installs/falaise-2.1.0</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;|-- bin</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;|-- include</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;|   |-- bayeux</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;|   `-- falaise</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;|-- lib{64}</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;|   |-- cmake</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;|   `-- Falaise</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;`-- share</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    |-- Bayeux-1.0.0</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    `-- Falaise-2.1.0</div></div><!-- fragment --><p>The <code>64</code> suffix to the library directory will only be present on Linux systems that enforce the <code>lib64</code> convention.</p>
<h2><a class="anchor" id="flinstallguide_using"></a>
Using an Install of Falaise </h2>
<p>With an install in place, you do not need any further setup to use the applications. All programs ay be run directly from the command line, e.g.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd /Users/snemo/SuperNEMO</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ ./installs/falaise-2.1.0/bin/flsimulate -h</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;...</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$</div></div><!-- fragment --><p>Of course you may, at your convenience, prepend the <code>bin</code> directory to your UNIX <code>PATH</code> but this is not required.</p>
<p>By default, Falaise installs Doxygen based documentation for the Falaise C++ API and the <code>flsimulate</code> and <code>flreconstruct</code> programs. To view this, simply point your web browser to the file:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;installs/falaise-2.1.0/share/Falaise-2.1.0/Documentation/API/html/index.html</div></div><!-- fragment --><p>A quick way to open this on Mac OS X systems is to run</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ open installs/falaise-2.1.0/share/Falaise-2.1.0/Documentation/API/html/index.html</div></div><!-- fragment --><p>which will open the file your preferred HTML viewer. On Linux, this is can be done via</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ xdg-open installs/falaise-2.1.0/share/Falaise-2.1.0/Documentation/API/html/index.html</div></div><!-- fragment --><p>though the existence of the <code>xdg-open</code> program may be dependent on the system you are running on.</p>
<p>The front page provides guidance on the layout of the documentation, with links to the detailed guides on using <code>flsimulate</code> and <code>flreconstruct</code>.</p>
<h2><a class="anchor" id="flinstallguide_trouble"></a>
Troubleshooting </h2>
<p>Whilst this walkthrough guide should cover most uses cases, we cannot guarantee that problems will not be encountered. If you do experience issues with any of the steps, please contact us, in the first instance email your issue to:</p>
<ul>
<li>Ben Morgan (<a href="#" onclick="location.href='mai'+'lto:'+'Ben'+'.M'+'org'+'an'+'@wa'+'rw'+'ick'+'.a'+'c.u'+'k'; return false;">Ben.M<span style="display: none;">.nosp@m.</span>orga<span style="display: none;">.nosp@m.</span>n@war<span style="display: none;">.nosp@m.</span>wick<span style="display: none;">.nosp@m.</span>.ac.u<span style="display: none;">.nosp@m.</span>k</a>)</li>
</ul>
<p>Please attach as much information as possible (operating system and version, compiler and version, CMake version etc) to assist in diagnosing the issue.</p>
<h1><a class="anchor" id="flinstallguide_developing"></a>
Developing Falaise </h1>
<p>Development of Falaise falls into two main categories</p>
<ul>
<li>Implementing features in the Falaise core</li>
<li>Implementing new plug-in modules for use in <code>flreconstruct</code></li>
</ul>
<p>The first of these generally, though not exclusively, requires a developer account on the LPC Caen Trac system (one can also create and submit patches). Development of plugins does not require a developer account, though will do should your module become part of the core.</p>
<p>We still recommend using the simple three level layout described earlier as the sparse checkout allows you full and easy access to all repository information. You can also easily add your own repositories if you are doing private development, e.g.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;SuperNEMO/</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;|-- lpc-caen.svn</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;|-- my-repo.git</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;|-- builds</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;|-- installs</div></div><!-- fragment --><p>To checkout the trunk of Falaise, we use the same procedure as for checking out a release and just change the path slightly:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd /Users/snemo/SuperNEMO</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ ls</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;builds  installs  lpc-caen.svn</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$ cd lpc-caen.svn</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;$ svn up --set-depth infinity Falaise/trunk</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;...</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;$ ls Falaise/trunk</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;cmake           documentation  README.rst  utilities</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;CMakeLists.txt  LICENSE.txt    resources</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;COPYING.txt     modules        source</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;$</div></div><!-- fragment --><p>This trunk version can be built just as the tagged release versions. In addition to the basic build, the unit and integration tests should always be built and run for the trunk build, and this can be done by running either</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ make test</div></div><!-- fragment --><p>or</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ ctest</div></div><!-- fragment --><p>in the build directory.</p>
<p>Builds of the trunk can also be installed, but is recommended not to do this due to the rapid development cycle expected and the need to run tests. All of the programs and libraries in a build of Falaise are directly usable without installation, and are output to a directory named <code>BuildProducts</code> under the main build directory:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;$ cd /Users/snemo/SuperNEMO/builds</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;$ ls</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;falaise-2.1.0  trunk</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;$ cd trunk</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;$ ls</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;BuildProducts   cmake_install.cmake  install_manifest.txt  modules    Testing</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;CMakeCache.txt  CTestTestfile.cmake  InstallTreeFiles      resources  utilities</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;CMakeFiles      documentation        Makefile              source</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;$</div></div><!-- fragment --><p>The structure of the <code>BuildProducts</code> directory is designed to match that of the installed Falaise:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;BuildProducts/</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;|-- bin</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;|   |-- flreconstruct</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;|   |-- flsimulate</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;|-- include</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;|   `-- falaise</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;|-- lib64</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;|   |-- Falaise</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;|   |-- cmake</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;|   `-- libFalaise.so</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;`-- share</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    `-- Falaise-1.0.0</div></div><!-- fragment --><p>The executables under <code>BuildProducts/bin</code> are directly runnable, so you can rapidly develop, compile and run without having to reinstall. Whilst the trunk aims for stability, full functionality cannot be guaranteed but you are welcome to try it and report any issues you find. Contributing to Falaise requires familiarity with Subversion, CMake, the C++ language and modern software development practices. An introduction to these topics is in preparation in a <a class="el" href="developingfalaise.html">dedicated topic</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
